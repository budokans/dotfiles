#!/usr/bin/env node
import{execSync as l}from"node:child_process";import{copyFileSync as m,mkdirSync as a,readdirSync as u,rmSync as p,statSync as y}from"node:fs";import{dirname as f,join as o}from"node:path";import{fileURLToPath as g}from"node:url";var v=f(g(import.meta.url)),d=(e,r,t)=>{u(e).forEach(s=>{if(t.excludeDirs.includes(s))return;let i=o(e,s),n=o(r,s);y(i).isDirectory()?(a(n,{recursive:!0}),d(i,n,t)):m(i,n)})},D=async()=>{let e=o(process.cwd(),".temp-starter");try{let r=process.env.NODE_ENV==="development",t;r?(t=o(v,"../../typescript-react-starter"),console.log("Using local template files from:",t)):(a(e,{recursive:!0}),console.log("\u{1F4E6} Downloading template..."),l("pnpm add @budokans/typescript-react-starter --prefix .temp-starter",{stdio:"inherit"}),t=o(e,"node_modules/@budokans/typescript-react-starter"));let c=process.cwd();console.log("\u{1F4CB} Copying template files..."),d(t,c,{excludeDirs:["node_modules",".git","dist",".temp-starter"]}),!r&&e&&p(e,{recursive:!0,force:!0}),console.log("\u{1F4E5} Installing dependencies..."),l("pnpm install",{stdio:"inherit"}),console.log(`
\u2728 TypeScript project initialized successfully!`)}catch(r){e&&p(e,{recursive:!0,force:!0}),console.error("Error:",r instanceof Error?r.message:String(r)),process.exit(1)}};D();
//# sourceMappingURL=init.js.map
